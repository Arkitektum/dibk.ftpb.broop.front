(this["webpackJsonpdibk-ftb-broop-front"]=this["webpackJsonpdibk-ftb-broop-front"]||[]).push([[0],{124:function(e,t,n){e.exports={container:"Container_container__dTOM0"}},131:function(e,t,n){},175:function(e,t,n){"use strict";n.r(t);var s=n(13),i=n(14),r=n(16),o=n(15),c=n(2),d=n.n(c),l=n(46),a=n.n(l),j=(n(131),n(83)),u=n(17),b=n(7),h=n(80),v=n(72),O=n(110),p=n.n(O),f=n(21),m=n(113),x=n(57),k=n(119),y=n(120),g="UPDATE_SELECTED_FORM",S="FETCH_SUBMISSION",F={},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.payload;default:return e}},L={},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return t.payload;default:return e}},B=function(e){return Object(x.combineReducers)({router:Object(v.b)(e),selectedForm:w,selectedSubmission:E})},C=Object(f.a)(),D=Object(k.composeWithDevTools)({});var N=n(34),_=n(124),I=n.n(_),M=n(4),T=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:I.a.container,children:this.props.children})}}]),n}(c.Component),A=Object(u.c)(null,null)(T),H=function(e){return function(t){var n="https://dibk-ftpb-broop-api.azurewebsites.net/api/v1/Innsending?referanseId=".concat(e);return fetch(n).then((function(e){return e.json()})).then((function(e){return t({type:S,payload:e})}))}},z=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={submission:null},i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchSubmission("24E4920B-DEA0-462E-A481-6F061D3EB2EA").then((function(t){var n=(null===t||void 0===t?void 0:t.payload)||null;e.setState({submission:n})}))}},{key:"render",value:function(){var e=this.state.submission;return e&&Object.keys(e).length?Object(M.jsxs)(A,{children:[Object(M.jsx)("h1",{children:"Home"}),Object(M.jsx)(h.b,{to:"/Skjema/".concat(e.innsendingsType,"/").concat(e.referanseId,"/"),children:Object(M.jsx)(N.Button,{content:e.innsendingsType})})]}):""}}]),n}(c.Component),P={fetchSubmission:H},R=Object(u.c)((function(e){return{}}),P)(z),U=function(e){var t="";return e.adresselinje1&&(t+=e.adresselinje1,(e.postnr||e.poststed)&&(t+=", ")),e.postnr&&(t+=e.postnr,e.poststed&&(t+=" ")),e.poststed&&(t+=e.poststed),t},W=n(44),G=n.n(W),J=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={},i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(this.props.selectedSubmission&&Object.keys(this.props.selectedSubmission).length){var t,n,s,i=null===(t=this.props.selectedSubmission)||void 0===t||null===(n=t._links)||void 0===n||null===(s=n.ansvarsrettdistribuert)||void 0===s?void 0:s.href;fetch("https://dibk-ftpb-broop-api.azurewebsites.net".concat(i)).then((function(e){return e.json()})).then((function(t){e.props.updateSelectedForm(t)}))}}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.selectedSubmission&&Object.keys(this.props.selectedSubmission).length,s=this.props.selectedForm&&Object.keys(this.props.selectedForm).length;if(n&&!s){var i,r,o,c=null===(i=this.props.selectedSubmission)||void 0===i||null===(r=i._links)||void 0===r||null===(o=r.ansvarsrettdistribuert)||void 0===o?void 0:o.href;fetch("https://dibk-ftpb-broop-api.azurewebsites.net".concat(c)).then((function(e){return e.json()})).then((function(e){t.props.updateSelectedForm(e)}))}}},{key:"renderEiendomByggestedList",value:function(e){return e.map((function(e,t){var n,s,i,r,o;return Object(M.jsxs)("div",{children:[Object(M.jsxs)("dl",{className:G.a.fieldList,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("dt",{children:"G\xe5rdsnr."}),Object(M.jsx)("dd",{children:null===(n=e.eiendomsidentifikasjon)||void 0===n?void 0:n.gaardsnummer})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("dt",{children:"Bruksnr."}),Object(M.jsx)("dd",{children:null===(s=e.eiendomsidentifikasjon)||void 0===s?void 0:s.bruksnummer})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("dt",{children:"Festenr."}),Object(M.jsx)("dd",{children:null===(i=e.eiendomsidentifikasjon)||void 0===i?void 0:i.festenummer})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("dt",{children:"Seksjonsnr."}),Object(M.jsx)("dd",{children:null===(r=e.eiendomsidentifikasjon)||void 0===r?void 0:r.seksjonsnummer})]})]}),Object(M.jsxs)("dl",{className:G.a.fieldList,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("dt",{children:"Bygningsnr."}),Object(M.jsx)("dd",{children:e.bygningsnummer})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("dt",{children:"Bolignr."}),Object(M.jsx)("dd",{children:e.bolignummer})]})]}),Object(M.jsx)("dl",{className:G.a.fieldList,children:Object(M.jsxs)("div",{children:[Object(M.jsx)("dt",{children:"Kommunenummer."}),Object(M.jsx)("dd",{children:null===(o=e.eiendomsidentifikasjon)||void 0===o?void 0:o.kommunenummer})]})}),Object(M.jsx)("dl",{className:G.a.fieldList,children:Object(M.jsxs)("div",{children:[Object(M.jsx)("dt",{children:"Adresse"}),Object(M.jsx)("dd",{children:U(e.adresse)})]})})]},t)}))}},{key:"render",value:function(){var e,t,n,s,i,r,o,c,l,a,j,u,b,h,v,O,p,f,m,x,k,y,g,S,F,w=null===(e=this.props.selectedForm)||void 0===e?void 0:e.formData;return w?Object(M.jsxs)(d.a.Fragment,{children:[Object(M.jsxs)(N.Paper,{children:[Object(M.jsx)(N.Header,{content:"Eiendom/Byggested",size:2}),this.renderEiendomByggestedList(null===w||void 0===w?void 0:w.eiendomByggested)]}),Object(M.jsxs)(N.Paper,{children:[Object(M.jsx)(N.Header,{content:"Foretak",size:2}),Object(M.jsxs)("dl",{className:G.a.fieldList,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("dt",{children:"Organisasjonsnummer"}),Object(M.jsx)("dd",{children:null===w||void 0===w||null===(t=w.ansvarsrett)||void 0===t||null===(n=t.foretak)||void 0===n?void 0:n.organisasjonsnummer})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("dt",{children:"Navn"}),Object(M.jsx)("dd",{children:null===w||void 0===w||null===(s=w.ansvarsrett)||void 0===s||null===(i=s.foretak)||void 0===i?void 0:i.navn})]})]}),Object(M.jsxs)("dl",{className:G.a.fieldList,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("dt",{children:"Adresse"}),Object(M.jsx)("dd",{children:null===w||void 0===w||null===(r=w.ansvarsrett)||void 0===r||null===(o=r.foretak)||void 0===o||null===(c=o.adresse)||void 0===c?void 0:c.adresselinje1})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("dt",{children:"Postnr."}),Object(M.jsx)("dd",{children:null===w||void 0===w||null===(l=w.ansvarsrett)||void 0===l||null===(a=l.foretak)||void 0===a||null===(j=a.adresse)||void 0===j?void 0:j.postnr})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("dt",{children:"Poststed"}),Object(M.jsx)("dd",{children:null===w||void 0===w||null===(u=w.ansvarsrett)||void 0===u||null===(b=u.foretak)||void 0===b||null===(h=b.adresse)||void 0===h?void 0:h.poststed})]})]}),Object(M.jsxs)("dl",{className:G.a.fieldList,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("dt",{children:"Kontaktperson"}),Object(M.jsx)("dd",{children:null===w||void 0===w||null===(v=w.ansvarsrett)||void 0===v||null===(O=v.foretak)||void 0===O||null===(p=O.kontaktperson)||void 0===p?void 0:p.navn})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("dt",{children:"Mobiltelefon"}),Object(M.jsx)("dd",{children:null===w||void 0===w||null===(f=w.ansvarsrett)||void 0===f||null===(m=f.foretak)||void 0===m||null===(x=m.kontaktperson)||void 0===x?void 0:x.mobilnummer})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("dt",{children:"Epost"}),Object(M.jsx)("dd",{children:null===w||void 0===w||null===(k=w.ansvarsrett)||void 0===k||null===(y=k.foretak)||void 0===y||null===(g=y.kontaktperson)||void 0===g?void 0:g.epost})]})]}),Object(M.jsx)("p",{children:Object(M.jsx)("b",{children:(null===w||void 0===w||null===(S=w.ansvarsrett)||void 0===S||null===(F=S.foretak)||void 0===F?void 0:F.harSentralGodkjenning)?"Foretaket har sentral godkjenning":"Foretaket har ikke sentral godkjenning"})})]})]}):Object(M.jsx)("p",{children:"Henter skjema"})}}]),n}(c.Component),K={updateSelectedForm:function(e){return function(t){return t({type:g,payload:e})}}},V=Object(u.c)((function(e){return{selectedSubmission:e.selectedSubmission,selectedForm:e.selectedForm}}),K)(J),$=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={form:null},i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.submissionId;this.props.submission&&!Object.keys(!this.props.submission).length||this.props.fetchSubmission(t).then((function(t){var n=(null===t||void 0===t?void 0:t.payload)||null;e.setState({submission:n})}))}},{key:"renderForm",value:function(e,t){switch(e){case"DistribuertAnsvarsrett":return Object(M.jsx)(V,{selectedSubmission:t});default:return""}}},{key:"render",value:function(){var e=this.props.match.params.formType,t=this.props.selectedSubmission;return t?Object(M.jsxs)(A,{children:[Object(M.jsx)(N.Header,{content:e}),this.renderForm(e,t)]}):Object(M.jsx)(A,{children:Object(M.jsx)("p",{children:"Henter skjema"})})}}]),n}(c.Component),q={fetchSubmission:H},Q=Object(u.c)((function(e){return{selectedSubmission:e.selectedSubmission,form:e.selectedForm}}),q)($),X=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(M.jsxs)(A,{children:[Object(M.jsx)("h1",{children:"404"}),Object(M.jsx)("p",{children:"Siden finnes ikke"})]})}}]),n}(c.Component),Y=Object(u.c)(null,null)(X),Z=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(M.jsx)(N.NavigationBar,{logoLink:"/"})}}]),n}(c.Component),ee=Object(u.c)(null,null)(Z);p.a.load({google:{families:["Roboto:400,700&display=swap"]}});var te=function(e){var t=[y.a],n=Object(f.a)();return Object(x.createStore)(B(n),e,D(x.applyMiddleware.apply(void 0,t.concat([Object(m.a)(n)]))))}({}),ne=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(M.jsx)(u.a,{store:te,children:Object(M.jsx)(v.a,{history:C,children:Object(M.jsxs)(h.a,{basename:"/dibk.ftpb.broop.front",children:[Object(M.jsx)(ee,{}),Object(M.jsxs)(b.c,{children:[Object(M.jsx)(b.a,{exact:!0,path:"/skjema/:formType/:submissionId",render:function(e){return Object(M.jsx)(Q,Object(j.a)({},e))}}),Object(M.jsx)(b.a,{exact:!0,path:"/:submissionId",render:function(e){return Object(M.jsx)(R,Object(j.a)({},e))}}),Object(M.jsx)(b.a,{exact:!0,path:"/",render:function(e){return Object(M.jsx)(R,Object(j.a)({},e))}}),Object(M.jsx)(b.a,{render:function(){return Object(M.jsx)(Y,{})}})]})]})})})}}]),n}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se={};var ie=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={isLoaded:!1},i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("/dibk.ftpb.broop.front","/config.json")).then((function(e){return e.json()})).then((function(e){for(var t in se)delete se[t];for(var n in e)se[n]=e[n];return se})).then((function(t){return e.setState({isLoaded:!0,config:t})}))}},{key:"render",value:function(){return this.state.isLoaded?this.props.ready(this.state.config):this.props.loading?this.props.loading():null}}]),n}(c.Component),re=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(M.jsx)(ie,{ready:function(){return Object(M.jsx)(ne,{})}})}}]),n}(c.Component);a.a.render(Object(M.jsx)(re,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},44:function(e,t,n){e.exports={fieldList:"Forms_fieldList__kV3nu"}}},[[175,1,2]]]);
//# sourceMappingURL=main.a0688c2c.chunk.js.map